---
source: crates/postgres/tests/integration/sources/create.rs
expression: ctx.queries()
---
[[queries]]
sql = '''
SELECT
  "id",
  "slug",
  "kind",
  "name",
  "base_url",
  "url_pattern"
FROM
  "external_services"
WHERE
  "id" = $1'''
rows_affected = 1
rows_returned = 1

[[queries]]
sql = '''
INSERT INTO
  "sources" (
    "external_service_id",
    "external_metadata",
    "external_metadata_extra"
  )
VALUES
  ($1, $2, $3)
RETURNING
  "id",
  "external_service_id",
  "external_metadata",
  "external_metadata_extra",
  "created_at",
  "updated_at"'''
rows_affected = 1
rows_returned = 1

[[queries]]
sql = 'COMMIT'
rows_affected = 0
rows_returned = 0
